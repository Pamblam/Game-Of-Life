<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link href="assets/js/jquery/jquery-ui.min.css" rel="stylesheet">
		<link href="assets/css/jquery.growl.css" rel="stylesheet">
		<link href="assets/css/styles.css" rel="stylesheet">
		<title>Game of Life</title>
	</head>
	<body>
		<div id='loading-overlay'>
			<div id='loading-content'>
				<img src='./assets/img/logo-full.png' title='GoLife Logo'>
				<h1>Loading Assets</h1>
			</div>
		</div>
		<div id="viewport">
			<!--<canvas id="gol_canvas"></canvas>-->
			<svg id="gol_canvas" version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>
			
			<div class="tip"></div>
			
			<div class="modal" id='colors-modal'>
				<center>
					<p><b>Choose individual colors or pick a theme:</b></p>
					
					<label class="block">Background Color: </label>
					<input class="jscolor ui-corner-all" value="#FFFFFF" id="bg-color">
					<div class="vpadding"></div>
					<label class="block">Cell Color: </label>
					<input class="jscolor ui-corner-all" value="#000000" id="cell-color">
					<div class="vpadding"></div>
					<label class="block">Grid Color: </label>
					<input class="jscolor ui-corner-all" value="#BFBFBF" id="grid-color">
					<div class="vpadding"></div>
					<br><br>
					<div class="input-group">
						<label>Theme Presets: </label>
						<select id="theme-chooser">
							<option value='default' data-bg="#FFFFFF" data-cell="#000000" data-grid="#BFBFBF">Default</option>
							<option value='dark' data-bg="#000000" data-cell="#FFFFFF" data-grid="#000000">Dark</option>
							<option value='cream' data-bg="#73fdff" data-cell="#fefb00" data-grid="#00fcff">Cream</option>
							<option value='primary' data-bg="#ff2600" data-cell="#0432ff" data-grid="#fefb00">Primary Colors</option>
						</select>
					</div>
				</center>
			</div>
			
			<div class="modal" id='settings-modal'>
				<table class="wide-table">
					<tr>
						<td><b>Rule String:</b></td>
						<td>
							b<input class="rulestring-input" id="rs-b" value="3">/s<input class="rulestring-input" id="rs-s" value="23">
						</td>
					</tr>
					<tr>
						<td valign="top"><b>Render Mode:</b></td>
						<td>
							<label><input type="radio" value="canvas" name="render-mode"> Canvas</label><br>
							<label><input type="radio" value="svg" name="render-mode"> SVG</label>
						</td>
					</tr>
					<tr>
						<td><b>Color Settings:</b></td>
						<td>
							<button id="colors-btn" title="Change the colors of the board">Colors</button>
						</td>
					</tr>
					<tr>
						<td><b>Load Pattern:</b></td>
						<td>
							<button id="import-btn" title="Import a pattern file">Import</button>
						</td>
					</tr>
				</table>
			</div>
			
			<div class="modal" id='import-modal'>
				<center>
					<p><b>Upload an RLE file to display it on the board.</b></p>
					<div id="dropZone">
						<p>Drag your file here or click here to choose.</p>
						<small>Accepts .rle files</small>
					</div>
					<br><b>Or</b><br>
					<button id="presets-btn">View Pattern Gallery</button>
				</center>
			</div>
			
			<div class="modal" id='help-modal'>
				<div class='float-container'>
					<div class='left'>
						<a href='#' class='helptopic active' data-open='intro'>Intro</a>
						<a href='#' class='helptopic' data-open='controls'>Controls</a>
						<a href='#' class='helptopic' data-open='rulestring'>Rule&nbsp;String</a>
						<a href='#' class='helptopic' data-open='patternimport'>Import</a>
					</div>
					<div class='right'>
						<div class='helptabs' data-id='intro'>
							<h3>Intro to Game of Life</h3>
							<p>The Game of Life zero-player game invented by the mathematician John Conway in the 70's. The game consists of a board of cells which can either be alive or dead. The game is configured by marking certain cells as alive (while the rest are dead), and the game progresses following certain rules to determine whether dead cells will be (re-)born, or live cells will survive or die.</p>
							<p>In Conway's game of life, the rules are simple:</p>
							<ol>
								<li>Any "dead" cell with exactly 3 live neighbor cells becomes alive.</li>
								<li>Any "live" cell with exactly 2 or 3 live neighbor cells survives to the next generation.</li>
								<li>All other cells die, or remain dead.</li>
							</ol>
							<p>Conway's intention was to prove the automation was alive based on John von Neumann's definition of life - a creation which can reproduce and simulate a Turing machine. Theoretically, the game is a universal Turing machine: anything that can be computed algorithmically can be computed within The Game of Life.</p>
						</div>
						<div class='helptabs' data-id='controls'>
							<h3>Game Controls</h3>
							<p>There main game controls are at the bottom of the screen and can be collapsed by clicking on the blue controls bar.</p>
							<ul>
								<li><span class="ui-icon ui-icon-play"></span>/<span class="ui-icon ui-icon-stop"></span> The play/stop button starts and stops the game cycle.</li>
								<li><span class="ui-icon ui-icon-seek-end"></span> The skip button advances the game one generation.</li>
								<li><span class="ui-icon ui-icon-search"></span> The zoom slider magnifies and shrinks the game board.</li>
								<li><span class="ui-icon ui-icon-flag"></span> The speed slider makes the game progress faster or slower.</li>
								<li><span class="ui-icon ui-icon-arrow-4"></span> The drag tool allows you to click and drag the game board around.</li>
								<li><span class="ui-icon ui-icon-arrowthick-1-nw"></span> The click tool allows you to click to toggle the state of any cell on the board.</li>
								<li><span class="ui-icon ui-icon-gear"></span> The settings button will open a dialog that allows you to change the colors on the board, import an existing pattern, or change the rule string.</li>
							</ul>
						</div>
						<div class='helptabs' data-id='rulestring'>
							<h3>Rule String</h3>
							<p>The rule string dictates how the game works. It took John Conway spent years coming up with his rule string (b3/s23). The first part of the rulestring (b3) means that any dead cells with 3 live neighbors will be born (as if by reproduction). The second part (s23) means that any live cells that have either 2 or 3 live neighbor cells will survive - or live on to the next generation. All other cells will die. This is the default configuration for Conway's Life, but may others have been tried and used.</p>
							<p>You can change the rule string by clicking on the settings button in the control panel and changing the values of the rule string inputs.</p>
						</div>
						<div class='helptabs' data-id='patternimport'>
							<h3>Pattern Import</h3>
							<p>You can import <i>.RLE</i> pattern files form your computer, or you can choose one from the pattern library by clicking on settings, then import. There, you will be able to drag or choose a pattern file, or open the pattern library. You may also download RLE files from the library to use elsewhere.</p>
						</div>
					</div>
				</div>
			</div>
			
			<div class="modal" id='pattern-modal'><p>Loading...</p></div>

			<img src='assets/img/logo-min.png' class='corner-logo'>
			
			<div id="opts-accordion">
				<h3>Controls</h3>
				<div>
					<center>
						<div class="input-grp">
							<label class="grp-label">Game controls</label>
							<button id="start-btn" title="Start or stop the game"></button>
							&nbsp;
							<button id="step-btn" title="Step forward one generation"></button>
						</div>
						&nbsp;
						<div class="input-grp">
							<label class="grp-label"><span class="ui-icon ui-icon-search"></span> Zoom slider</label>
							<div id="zoom-slider" title="Slide to change zoom"></div>
						</div>
						&nbsp;
						<div class="input-grp">
							<label class="grp-label"><span class="ui-icon ui-icon-flag"></span> Speed slider</label>
							<div id="speed-slider" title="Slide to change speed"></div>
						</div>
						&nbsp;
						<div class="input-grp">
							<label class="grp-label">Mouse controls</label>
							<button class="mouse-action" data-mode="drag" title="Drag to reposition the board"><span class="ui-icon ui-icon-arrow-4"></span></button>
							&nbsp;
							<button class="mouse-action" data-mode="click" disabled title="Click to toggle cells"><span class="ui-icon ui-icon-arrowthick-1-nw"></span></button>
						</div>
						&nbsp;
						<div class="input-grp">
							<label class="grp-label">Settings</label>
							<button id="settings-btn" title="Change game settings"></button>
						</div>
						&nbsp;
						<div class="input-grp">
							<label class="grp-label">Help</label>
							<button id="help-btn" title="Help menu"></button>
						</div>
					</center>
				</div>
			</div>

		</div>
		<script src="assets/js/jquery/jquery.min.js"></script>
		<script src="assets/js/jquery/jquery-ui.min.js"></script>
		<script src="assets/js/jquery.growl.js"></script>
		<script src="GoL.js"></script>
		<script src="assets/js/fileupload.min.js"></script>
		<script src="assets/js/jscolor.min.js"></script>
		<script src="assets/js/query_string.js"></script>
		<script src="assets/js/index.js"></script>
	</body>
</html>